<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="referrer" content="always">
    <meta http-equiv="Cache-Control" content="no-siteapp" />
	<link rel="alternate" media="handheld" href="#" />    
    <title>Java jps 命令-卞建权-整理资料 </title>
    <link rel="stylesheet" href="../css/bootstrap.css">
</head>
<body> 
<div class="container" role="main">
    
    <h3>jps命令(The Java Debugger)</h3>
    <h3>1.介绍</h3>
    <p>
        <div class="alert alert-info">
                用来查看基于HotSpot的JVM里面中，所有具有访问权限的Java进程的具体状态, 包括进程ID，进程启动的路径及启动参数等等，与unix上的ps类似，只不过jps是用来显示java进程，可以把jps理解为ps的一个子集。<br>
                使用jps时，如果没有指定hostid，它只会显示本地环境中所有的Java进程；如果指定了hostid，它就会显示指定hostid上面的java进程，不过这需要远程服务上开启了jstatd服务，可以参看前面的jstatd章节来启动jstad服务。
        </div>
    </p>
    <h3>2.命令格式 </h3>
    <p>
            jps [ options ] [ hostid ]
    </p>
    <h3>3.常用参数说明</h3>
    <p>
        -q 忽略输出的类名、Jar名以及传递给main方法的参数，只输出pid。<br>
        -m 输出传递给main方法的参数，如果是内嵌的JVM则输出为null。<br>
        -l 输出应用程序主类的完整包名，或者是应用程序JAR文件的完整路径<br>
        -v 输出传给JVM的参数。<br>
        -V 输出通过标记的文件传递给JVM的参数（.hotspotrc文件，或者是通过参数-XX:Flags=<filename>指定的文件）。<br>
        -J 用于传递jvm选项到由javac调用的java加载器中，例如，“-J-Xms48m”将把启动内存设置为48M，使用-J选项可以非常方便的向基于Java的开发的底层虚拟机应用程序传递参数。<br>
        <ol >
            <li>options</li>
            </p>
            <li>基本参数</li>
            <P>
            </P>
        </ol>
    </p>
    <h3>4.服务器标识</h3>
    <p>
        hostid指定了目标的服务器，它的语法如下：<br>
        protocol:][[//]hostname][:port][/servername] <br>
        protocol - 如果protocol及hostname都没有指定，那表示的是与当前环境相关的本地协议，如果指定了hostname却没有指定protocol，那么protocol的默认就是rmi。<br>
        hostname - 服务器的IP或者名称，没有指定则表示本机 <br>
        port - 远程rmi的端口，如果没有指定则默认为1099。<br>
        Servername - 注册到RMI注册中心中的jstatd的名称。<br>
    </p>
    <h3>5.使用示例</h3>
    <p>
        不带任何参数<br>
        <code>jps</code><br>
        带-v参数<br>
        <code>jps -v</code><br>
        带-l参数<br>
        <code>jps -l</code><br>
        列出远程的Java进程<br>
        jstatd 中 rmiregistry 2020&jstatd -J-Djava.security.policy=all.policy -p 2020 -n AlternateJstatdServerName <br>
        启动了名为AlternateJstatdServerName的jstatd服务，那么我们此时就可以通过该服务列出其有权限访问的Java进程。<br>
        <code>jps 10.1.1.234:2020/AlternateJstatdServerName</code>

    </p>
    <P>https://docs.oracle.com/javase/8/docs/technotes/tools/unix/jps.html</P>
</div>
</body>
</html>